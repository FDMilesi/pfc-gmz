<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html">

    <body>

        <ui:composition template="/template.xhtml">

            <ui:define name="title">
                title
            </ui:define>

            <ui:define name="body">
                <h:form id="AgendaForm">

                    <p:breadCrumb >
                        <p:menuitem value="Home" url="/faces/protected/agenda/Agenda.xhtml" />
                        <p:menuitem value="Agenda" disabled="true"/>
                    </p:breadCrumb>

                    <br/>

                    <p:schedule id="schedule" locale="es" value="#{agendaController.agenda}" 
                                widgetVar="agenda" timeZone="GMT-3" view="agendaWeek" 
                                allDaySlot="false" slotDuration="00:15:00" scrollTime="08:00:00"
                                showWeekends="FALSE" minTime="07:00:00" maxTime="21:00:00" resizable="false">
                        <p:ajax event="dateSelect" 
                                listener="#{agendaController.prepareCreateSesion}"
                                update=":SesionCreateForm, :growl"
                                oncomplete="PF('SesionCreateDialog').show();" />
                        <p:ajax event="eventSelect"
                                listener="#{agendaController.mostrarSesion}"
                                update=":SesionViewForm" 
                                oncomplete="PF('SesionViewDialog').show();" />
                    </p:schedule>                    
                </h:form>

                <!--                <p:dialog widgetVar="eventDialog" header="Event Details">
                                    <h:panelGrid id="eventDetails" columns="2">
                                        <h:outputText value="puto el que lee"/>
                                        <h:outputText value="puto el que lee"/>
                                    </h:panelGrid>
                                </p:dialog> -->
                <ui:include src="Create.xhtml"/>
                <ui:include src="View.xhtml"/>                  
            </ui:define>

        </ui:composition>

    </body>
</html>
